import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.setContent
import androidx.compose.foundation.background
import androidx.compose.foundation.layout.*
import androidx.compose.material.MaterialTheme
import androidx.compose.runtime.Composable
import androidx.compose.ui.Alignment
import androidx.compose.ui.Modifier
import androidx.compose.ui.draw.clip
import androidx.compose.ui.graphics.Color
import androidx.compose.ui.graphics.Path
import androidx.compose.ui.graphics.Shape
import androidx.compose.ui.unit.dp
import androidx.compose.ui.unit.Density

class MainActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            MaterialTheme {
                JigsawCard()
            }
        }
    }
}

@Composable
fun JigsawCard() {
    Box(
        modifier = Modifier
            .padding(16.dp)
            .clip(JigsawShape())
            .background(Color.LightGray)
            .size(200.dp),
        contentAlignment = Alignment.Center
    ) {
        // Add your card content here
    }
}

class JigsawShape : Shape {
    override fun createOutline(
        size: androidx.compose.ui.geometry.Size,
        density: Density
    ): androidx.compose.ui.graphics.Outline {
        val path = Path().apply {
            moveTo(0f, 0f)
            lineTo(size.width, 0f)
            lineTo(size.width, size.height)
            lineTo(0f, size.height)
            close()

            // Create the jigsaw notches (adjust values as needed)
            moveTo(size.width / 4, 0f)
            arcTo(20f, 20f, 0f, false, true, size.width / 4 + 20f, 20f)
            moveTo(size.width * 3 / 4, 0f)
            arcTo(20f, 20f, 0f, false, false, size.width * 3 / 4 - 20f, 20f)

            moveTo(size.width / 4, size.height)
            arcTo(20f, 20f, 0f, false, false, size.width / 4 + 20f, size.height - 20f)
            moveTo(size.width * 3 / 4, size.height)
            arcTo(20f, 20f, 0f, false, true, size.width * 3 / 4 - 20f, size.height - 20f)
        }
        return androidx.compose.ui.graphics.Outline.Generic(path)
    }
}
